<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WILSON ID PRO | Smart Management</title>
    <link rel="icon" type="image/png" href="Icone.png">
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@500&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="print.css">
</head>
<body class="theme-light">

    <div class="app-shell no-print">
        <!-- Botão Mobile Menu -->
        <button id="mobile-menu-toggle" class="mobile-only"><i class="ri-menu-line"></i></button>

        <!-- Sidebar Moderna -->
        <aside class="sidebar" id="app-sidebar">
            <div class="sidebar-header">
                <img src="logo.png" alt="Wilson Logo" class="brand-logo">
                <div class="brand-status">
                    <span class="status-dot"></span>
                    <span>Sistema Ativo</span>
                </div>
            </div>

            <nav class="sidebar-nav">
                <div class="nav-section">Principal</div>
                <a href="#" class="nav-item active" data-view="catalog">
                    <i class="ri-dashboard-line"></i>
                    <span>Catálogo</span>
                </a>
                <a href="#" class="nav-item" data-view="favorites">
                    <i class="ri-star-line"></i>
                    <span>Destaques</span>
                </a>
                
                <div class="nav-section">Gestão</div>
                <a href="#" class="nav-item" id="sidebar-add-btn">
                    <i class="ri-add-box-line"></i>
                    <span>Novo Produto</span>
                </a>
                <a href="#" class="nav-item" id="sidebar-export-btn">
                    <i class="ri-download-2-line"></i>
                    <span>Exportar Backup</span>
                </a>

                <div class="nav-section">Preferências</div>
                <div class="theme-toggle-container">
                    <button class="theme-btn active" id="theme-light" title="Modo Claro"><i class="ri-sun-line"></i></button>
                    <button class="theme-btn" id="theme-dark" title="Modo Escuro"><i class="ri-moon-line"></i></button>
                </div>
            </nav>

            <div class="sidebar-footer">
                <div class="user-profile">
                    <div class="avatar">CR</div>
                    <div class="user-info">
                        <span class="user-name">Operador</span>
                        <span class="user-role">Almoxarifado</span>
                    </div>
                </div>
            </div>
        </aside>

        <!-- Área de Conteúdo Principal -->
        <main class="main-content">
            <header class="content-header">
                <div class="header-search">
                    <i class="ri-search-line"></i>
                    <input type="text" id="searchInput" placeholder="Busque por código ou descrição..." autocomplete="off">
                    <span class="search-shortcut">/</span>
                </div>
                
                <div class="header-stats">
                    <div class="mini-stat">
                        <span class="label">Total Itens</span>
                        <span class="value" id="stat-total">0</span>
                    </div>
                    <div class="mini-stat">
                        <span class="label">Sessão</span>
                        <span class="value" id="stat-session">0</span>
                    </div>
                </div>
            </header>

            <div class="scroll-area">
                <!-- Seção de Destaques -->
                <section class="content-section" id="section-highlights">
                    <div class="section-header">
                        <h2><i class="ri-star-fill text-yellow"></i> Itens Frequentes</h2>
                        <span class="badge" id="badge-highlights">0 itens</span>
                    </div>
                    <div class="grid-container" id="highlightsGrid"></div>
                </section>

                <!-- Catálogo Geral -->
                <section class="content-section">
                    <div class="section-header">
                        <h2><i class="ri-box-3-fill text-red"></i> Catálogo de Materiais</h2>
                        <div class="header-filters" id="filterContainer">
                            <button class="filter-btn active" data-filter="all">Todos</button>
                        </div>
                    </div>
                    <div class="grid-container" id="productsGrid"></div>
                </section>
            </div>
        </main>
    </div>

    <!-- Modais Glassmorphism -->
    <div id="modal-action" class="modal-overlay hidden">
        <div class="glass-modal zoom-anim">
            <div class="modal-top">
                <div class="prod-identity">
                    <span id="preview-code" class="code-pill">0000</span>
                    <h3 id="preview-name">Nome do Produto</h3>
                </div>
                <button class="close-modal"><i class="ri-close-line"></i></button>
            </div>
            
            <div class="action-grid-v2">
                <button id="btn-open-form" class="action-card-v2 primary">
                    <div class="card-icon"><i class="ri-printer-line"></i></div>
                    <div class="card-info">
                        <strong>Imprimir Etiqueta</strong>
                        <span>Gerar identificação física</span>
                    </div>
                </button>
                
                <button id="btn-show-code" class="action-card-v2">
                    <div class="card-icon"><i class="ri-fullscreen-line"></i></div>
                    <div class="card-info">
                        <strong>Ver Código</strong>
                        <span>Visualização em tela cheia</span>
                    </div>
                </button>

                <button id="btn-edit-product-trigger" class="action-card-v2">
                    <div class="card-icon"><i class="ri-edit-line"></i></div>
                    <div class="card-info">
                        <strong>Editar</strong>
                        <span>Alterar dados do produto</span>
                    </div>
                </button>

                <button id="btn-delete-product-trigger" class="action-card-v2 danger">
                    <div class="card-icon"><i class="ri-delete-bin-line"></i></div>
                    <div class="card-info">
                        <strong>Excluir</strong>
                        <span>Remover permanentemente</span>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Modal de Formulário de Impressão -->
    <div id="modal-form" class="modal-overlay hidden">
        <div class="glass-modal zoom-anim">
            <div class="modal-top">
                <h3>Dados de Identificação</h3>
                <button class="close-modal"><i class="ri-close-line"></i></button>
            </div>
            
            <div class="smart-form">
                <div class="form-group-row">
                    <label class="type-selector">
                        <input type="radio" name="op-type" value="recebimento" checked>
                        <div class="type-content">
                            <i class="ri-download-cloud-2-line"></i>
                            <span>Recebimento</span>
                        </div>
                    </label>
                    <label class="type-selector">
                        <input type="radio" name="op-type" value="devolucao">
                        <div class="type-content">
                            <i class="ri-reply-line"></i>
                            <span>Devolução</span>
                        </div>
                    </label>
                </div>

                <div class="input-row">
                    <div class="floating-input">
                        <input type="text" id="input-nf" placeholder=" ">
                        <label>Nota Fiscal</label>
                    </div>
                    <div class="floating-input">
                        <input type="text" id="input-qty" placeholder=" ">
                        <label>Quantidade</label>
                    </div>
                </div>

                <div class="input-row">
                    <div class="floating-input">
                        <input type="text" id="input-lote" placeholder=" ">
                        <label>Lote / Fabricação</label>
                    </div>
                    <div class="floating-input">
                        <input type="date" id="input-validade" placeholder=" ">
                        <label>Data Validade</label>
                    </div>
                </div>

                <button id="btn-generate-print" class="main-action-btn">
                    <i class="ri-printer-fill"></i> Gerar Documento
                </button>
            </div>
        </div>
    </div>

    <!-- Modal de Adicionar/Editar Produto -->
    <div id="modal-product-form" class="modal-overlay hidden">
        <div class="glass-modal zoom-anim">
            <div class="modal-top">
                <h3 id="product-modal-title">Gestão de Produto</h3>
                <button class="close-modal"><i class="ri-close-line"></i></button>
            </div>
            <div class="smart-form">
                <div class="floating-input">
                    <input type="text" id="prod-code" placeholder=" ">
                    <label>Código do Produto</label>
                </div>
                <div class="floating-input">
                    <input type="text" id="prod-name" placeholder=" ">
                    <label>Descrição Completa</label>
                </div>
                <div class="form-actions">
                    <button id="btn-save-product" class="main-action-btn">Salvar Alterações</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Visualização de Código Fullscreen -->
    <div id="modal-code" class="modal-overlay hidden">
        <div class="fullscreen-view">
            <button class="close-modal-fs"><i class="ri-close-line"></i></button>
            <div class="fs-content">
                <span id="display-name-fs">Nome do Produto</span>
                <h1 id="display-code-fs">000000</h1>
                <button id="btn-copy-code" class="copy-btn-fs"><i class="ri-file-copy-line"></i> Copiar Código</button>
            </div>
        </div>
    </div>

    <!-- Área de Impressão (Preview 3D) -->
    <div id="print-area" class="print-overlay hidden">
        <div class="print-toolbar no-print">
            <div class="toolbar-msg">Preview de Impressão 3D</div>
            <div class="toolbar-btns">
                <button id="close-print" class="btn-text">Cancelar</button>
                <button onclick="window.print()" class="btn-print">IMPRIMIR</button>
            </div>
        </div>
        <div class="sheet-viewport">
            <div class="official-sheet">
                <div class="tbl-row header-row">
                    <div class="tbl-cell logo-cell"><img src="logo.png" alt="Wilson"></div>
                    <div class="tbl-cell title-cell">SISTEMA DE GESTÃO DA QUALIDADE E SEGURANÇA DE ALIMENTOS</div>
                    <div class="tbl-cell meta-cell">
                        <div class="meta-item">Emissão: 23/04/2021</div>
                        <div class="meta-item">Revisão: 03</div>
                        <div class="meta-item border-none">Atualizado em: 21/07/2023</div>
                    </div>
                </div>
                <div class="tbl-row subheader-row"><div class="tbl-cell doc-cell">Documento: FORMULÁRIO</div><div class="tbl-cell code-cell">Código: FRM/ALM/DIV/015</div></div>
                <div class="tbl-row subheader-row border-top-none"><div class="tbl-cell desc-cell">Descrição: IDENTIFICAÇÃO DE MATERIAL</div><div class="tbl-cell page-cell">Página: 1 de 1</div></div>
                <div class="tbl-row date-row">DATA: <span id="print-date" contenteditable="true" style="font-size: 9pt;"></span></div>
                <div class="tbl-row section-title-row">CÓDIGO/DESCRIÇÃO MATERIAL</div>
                <div class="tbl-row big-content-row">
                    <div class="container-produto-ajustavel">
                        <span id="print-code" class="big-code-text" contenteditable="true"></span>
                        <span class="big-sep">-</span>
                        <span id="print-product" class="big-prod-text" contenteditable="true"></span>
                    </div>
                </div>
                <div class="tbl-row checks-row">
                    <div class="tbl-cell check-cell"><div class="checkbox-box" id="box-rec"></div><span class="check-label">RECEBIMENTO</span></div>
                    <div class="tbl-cell check-cell border-left"><div class="checkbox-box" id="box-dev"></div><span class="check-label">DEVOLUÇÃO/FÁBRICA</span></div>
                </div>
                <div class="tbl-row grid-header-row"><div class="tbl-cell g-col">QUANTIDADE</div><div class="tbl-cell g-col border-left">LOTE/DATA FAB.</div><div class="tbl-cell g-col border-left">DATA VALIDADE</div></div>
                <div class="tbl-row grid-values-row"><div class="tbl-cell g-val" id="print-qty" contenteditable="true"></div><div class="tbl-cell g-val border-left" id="print-lote" contenteditable="true"></div><div class="tbl-cell g-val border-left" id="print-validade" contenteditable="true"></div></div>
                <div class="tbl-row footer-info-row">
                    <div class="tbl-cell nf-cell" style="flex: 1; font-size: 20pt;font-weight: bold;">Nota Fiscal: <span id="print-nf" contenteditable="true"></span></div>
                    <div class="tbl-cell daylot-cell" id="print-day-lot" contenteditable="true" style="width: 150px; border-left: 1px solid black;"></div>
                </div>
                <div class="tbl-row signatures-row">
                    <div class="tbl-cell sig-block"><div class="sig-line"></div><div class="sig-label">Resp. Elaboração</div><div class="sig-name">Leonardo Madeira</div></div>
                    <div class="tbl-cell sig-block border-left"><div class="sig-line"></div><div class="sig-label">Resp. Aprovação</div><div class="sig-name">Edison Nascimento</div></div>
                    <div class="tbl-cell sig-block border-left"><div class="sig-line"></div><div class="sig-label">Resp. SGQSA</div><div class="sig-name">Fernanda Rodrigues</div></div>
                    <div class="tbl-cell sig-block border-left"><div class="sig-line"></div><div class="sig-label">Sistema</div><div class="sig-name">Caio Rodrigues</div></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Notificações (Toast) -->
    <div id="toast-container" class="toast-container"></div>

    <script src="data.js"></script>
    <script src="script.js"></script>
</body>
</html>
